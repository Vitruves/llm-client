# Pipeline test: Topic classification
provider:
  name: llamacpp
  base_url: http://localhost:8080
  timeout: 120s

model:
  name: Qwen_Qwen3-8B-Q5_K_M.gguf
  parameters:
    chat_format: chatml
    temperature: 0.1
    max_tokens: 50

classification:
  template:
    system: "You are a topic classifier. Classify the text into exactly one category: business, science, sports, or technology. Respond with only the category name."
    user: "Classify this text: {text} /no_think"
  parsing:
    find:
      - business
      - science
      - sports
      - technology
    default: unknown
    case_sensitive: false
  field_mapping:
    input_text_field: text

processing:
  workers: 2
  live_metrics:
    enabled: true
    metric: f1
    ground_truth: category
    average: macro
    classes:
      - business
      - science
      - sports
      - technology

output:
  directory: ./output
  format: json
  include_raw_response: true
